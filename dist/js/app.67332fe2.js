(function(){"use strict";var e={5916:function(e,t,r){var i=r(5130),a=r(6768);const o={id:"app"};function s(e,t,r,i,s,l){const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(n)])}var l={name:"App"},n=r(1241);const c=(0,n.A)(l,[["render",s]]);var m=c,u=r(1387);const d={class:"search-container"},p={class:"input-group mb-3"},f={class:"input-group2"},h={class:"input-group2"};function b(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("div",d,[t[4]||(t[4]=(0,a.Lk)("h1",{class:"text-center"},"Trabalho de Rui",-1)),(0,a.Lk)("div",p,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.pesquisa=e),placeholder:"Digite o nome do filme ou série"},null,512),[[i.Jo,s.pesquisa]]),(0,a.Lk)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>l.clique&&l.clique(...e))},"Pesquisar")]),(0,a.Lk)("div",f,[(0,a.Lk)("button",{class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>l.adicionarFilme&&l.adicionarFilme(...e))}," Adicionar filme ")]),(0,a.Lk)("div",h,[(0,a.Lk)("button",{class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>l.carregarBD&&l.carregarBD(...e))}," Ver filmes da base de dado local ")])])}r(4114);var g={data(){return{pesquisa:""}},methods:{clique(){""!==this.pesquisa.trim()?(localStorage.setItem("pesquisa",this.pesquisa),this.$router.push("/pagina2")):alert("Por favor, insira um nome de filme ou série!")},adicionarFilme(){this.$router.push("/adicionar-filme")},carregarBD(){this.$router.push("/filmes-locais")}}};const v=(0,n.A)(g,[["render",b]]);var k=v,L=r(4232);const q={class:"container mt-5"},y={class:"text-center mb-4"},I={id:"filmeList",class:"row row-cols-1 row-cols-md-3 g-4"},E={class:"card filme-card"},F=["href"],w=["src","alt"],C={class:"card-body"},x={class:"card-title"},D={key:0,class:"text-center text-danger mt-4"};function O(e,t,r,i,o,s){return(0,a.uX)(),(0,a.CE)("div",q,[(0,a.Lk)("h1",y,[t[1]||(t[1]=(0,a.eW)(" Resultados da pesquisa para: ")),(0,a.Lk)("span",null,(0,L.v_)(o.pesquisa),1)]),(0,a.Lk)("div",I,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.filmes,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.imdbID,class:"col"},[(0,a.Lk)("div",E,[(0,a.Lk)("a",{href:`https://www.imdb.com/title/${e.imdbID}`,target:"_blank",rel:"noopener noreferrer"},[(0,a.Lk)("img",{src:e.Poster,class:"card-img-top",alt:e.Title,onError:t[0]||(t[0]=(...e)=>s.onImagemErro&&s.onImagemErro(...e))},null,40,w)],8,F),(0,a.Lk)("div",C,[(0,a.Lk)("h5",x,(0,L.v_)(e.Title),1)])])])))),128))]),o.erro?((0,a.uX)(),(0,a.CE)("p",D,(0,L.v_)(o.erro),1)):(0,a.Q3)("",!0)])}var S={data(){return{pesquisa:"",filmes:[],erro:null}},mounted(){this.pesquisa=localStorage.getItem("pesquisa")||"Nenhuma pesquisa realizada",document.title=this.pesquisa?`Pesquisa IMDB - ${this.pesquisa}`:"Pesquisa IMDB - Nenhum título encontrado","Nenhuma pesquisa realizada"!==this.pesquisa&&this.buscarFilmes()},methods:{buscarFilmes(){fetch(`https://api.collectapi.com/imdb/imdbSearchByName?query=${this.pesquisa}`,{method:"GET",headers:{"content-type":"application/json",authorization:"apikey 4GVSSV51QMdmm7cbBSeMXi:4lccEU790kYCRqAL9rWzI2"}}).then((e=>e.json())).then((e=>{if(!(e.success&&e.result.length>0))throw new Error("Nenhum resultado encontrado");this.filmes=e.result})).catch((e=>{this.erro=`Erro ao carregar os filmes: ${e.message}. Por favor, tente novamente mais tarde.`,console.error("Erro ao buscar dados da API:",e)}))},onImagemErro(e){e.target.src="https://via.placeholder.com/300x450?text=Sem+Imagem"}}};const _=(0,n.A)(S,[["render",O],["__scopeId","data-v-3fe3a14c"]]);var A=_;const P={class:"add-movie-container"},X={class:"mb-3"},j={class:"mb-3"},V={class:"mb-3"},N={class:"mb-3"};function T(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("div",P,[t[10]||(t[10]=(0,a.Lk)("h1",{class:"text-center"},"Adicionar Novo Filme",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)(((...e)=>l.adicionarFilme&&l.adicionarFilme(...e)),["prevent"]))},[(0,a.Lk)("div",X,[t[5]||(t[5]=(0,a.Lk)("label",{for:"titulo",class:"form-label"},"Título",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"titulo","onUpdate:modelValue":t[0]||(t[0]=e=>s.filme.titulo=e),class:"form-control",placeholder:"Digite o título do filme",required:""},null,512),[[i.Jo,s.filme.titulo]])]),(0,a.Lk)("div",j,[t[6]||(t[6]=(0,a.Lk)("label",{for:"categoria",class:"form-label"},"Categoria",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"categoria","onUpdate:modelValue":t[1]||(t[1]=e=>s.filme.categoria=e),class:"form-control",placeholder:"Digite a categoria do filme",required:""},null,512),[[i.Jo,s.filme.categoria]])]),(0,a.Lk)("div",V,[t[7]||(t[7]=(0,a.Lk)("label",{for:"ano",class:"form-label"},"Ano",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",id:"ano","onUpdate:modelValue":t[2]||(t[2]=e=>s.filme.ano=e),class:"form-control",placeholder:"Digite o ano de lançamento",required:""},null,512),[[i.Jo,s.filme.ano]])]),(0,a.Lk)("div",N,[t[8]||(t[8]=(0,a.Lk)("label",{for:"imagem",class:"form-label"},"Link para Imagem",-1)),(0,a.bo)((0,a.Lk)("input",{type:"url",id:"imagem","onUpdate:modelValue":t[3]||(t[3]=e=>s.filme.imagem=e),class:"form-control",placeholder:"Cole o link da imagem"},null,512),[[i.Jo,s.filme.imagem]])]),t[9]||(t[9]=(0,a.Lk)("button",{type:"submit",class:"btn btn-success"},"Adicionar Filme",-1))],32)])}var $={data(){return{filme:{titulo:"",categoria:"",ano:"",imagem:""},erro:null}},methods:{adicionarFilme(){this.filme.titulo.trim()?this.verificarFilme(this.filme.titulo):alert("O título do filme é obrigatório!")},verificarFilme(e){fetch(`https://api.collectapi.com/imdb/imdbSearchByName?query=${e}`,{method:"GET",headers:{"content-type":"application/json",authorization:"apikey 4GVSSV51QMdmm7cbBSeMXi:4lccEU790kYCRqAL9rWzI2"}}).then((e=>e.json())).then((e=>{if(e.success&&e.result.length>0){const t=e.result[0],r={imdbID:t.imdbID,Title:t.Title||this.filme.titulo,Category:this.filme.categoria||"N/A",Year:this.filme.ano||t.Year,Poster:this.filme.imagem||t.Poster};this.gravarFilme(r)}else this.erro="Filme não encontrado na IMDb",alert(this.erro)})).catch((e=>{this.erro="Erro ao buscar dados da IMDb. Tente novamente mais tarde.",alert(this.erro),console.error("Erro ao buscar dados da IMDb:",e)}))},gravarFilme(e){const t=JSON.parse(localStorage.getItem("filmes"))||[];t.push(e),localStorage.setItem("filmes",JSON.stringify(t)),alert("Filme adicionado com sucesso!"),this.resetar(),this.$router.push("/")},resetar(){this.filme.titulo="",this.filme.categoria="",this.filme.ano="",this.filme.imagem=""}}};const B=(0,n.A)($,[["render",T],["__scopeId","data-v-1b606db1"]]);var M=B;const J={class:"container mt-5"},U={class:"mb-3"},z={id:"listaDeFilmes",class:"row"},G={class:"card filme-card"},Q=["href"],R=["src","alt"],Y={class:"card-body"},W={class:"card-title"},K={key:0,class:"text-center text-danger mt-4"};function H(e,t,r,o,s,l){return(0,a.uX)(),(0,a.CE)("div",J,[t[3]||(t[3]=(0,a.Lk)("h1",{class:"text-center mb-4"},"Filmes Locais",-1)),(0,a.Lk)("div",U,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.pesquisa=e),class:"form-control search-input",placeholder:"Pesquise por título do filme",onInput:t[1]||(t[1]=(...e)=>l.filtrarFilmes&&l.filtrarFilmes(...e))},null,544),[[i.Jo,s.pesquisa]])]),(0,a.Lk)("div",z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.filmes,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.imdbID,class:"col"},[(0,a.Lk)("div",G,[(0,a.Lk)("a",{href:`https://www.imdb.com/title/${e.imdbID}`,target:"_blank",rel:"noopener noreferrer"},[(0,a.Lk)("img",{src:e.Poster,class:"card-img-top",alt:e.titulo,onError:t[2]||(t[2]=(...e)=>l.onImagemErro&&l.onImagemErro(...e))},null,40,R)],8,Q),(0,a.Lk)("div",Y,[(0,a.Lk)("h5",W,(0,L.v_)(e.titulo),1)])])])))),128))]),s.erro?((0,a.uX)(),(0,a.CE)("p",K,(0,L.v_)(s.erro),1)):(0,a.Q3)("",!0)])}r(8992),r(4520);var Z={data(){return{pesquisa:"",filmes:[],filmesOriginais:[],erro:null}},created(){const e=JSON.parse(localStorage.getItem("filmes"))||[];this.filmes=e,this.filmesOriginais=e},methods:{filtrarFilmes(){""===this.pesquisa.trim()?this.filmes=this.filmesOriginais:this.filmes=this.filmesOriginais.filter((e=>e.titulo?.toLowerCase().includes(this.pesquisa.toLowerCase())))},onImagemErro(e){e.target.src="https://via.placeholder.com/300x450?text=Sem+Imagem"}}};const ee=(0,n.A)(Z,[["render",H],["__scopeId","data-v-21322f22"]]);var te=ee;const re=[{path:"/",name:"Bem Vindo",component:k},{path:"/pagina2",name:"Pesquisa",component:A},{path:"/adicionar-filme",name:"AdicionarFilme",component:M},{path:"/filmes-locais",name:"FilmesLocais",component:te}],ie=(0,u.aE)({history:(0,u.LA)(),routes:re});var ae=ie;const oe=(0,i.Ef)(m);oe.use(ae),oe.mount("#app")}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,i,a,o){if(!i){var s=1/0;for(m=0;m<e.length;m++){i=e[m][0],a=e[m][1],o=e[m][2];for(var l=!0,n=0;n<i.length;n++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](i[n])}))?i.splice(n--,1):(l=!1,o<s&&(s=o));if(l){e.splice(m--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[i,a,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,s=i[0],l=i[1],n=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(n)var m=n(r)}for(t&&t(i);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(m)},i=self["webpackChunknome_do_projeto"]=self["webpackChunknome_do_projeto"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[504],(function(){return r(5916)}));i=r.O(i)})();
//# sourceMappingURL=app.67332fe2.js.map